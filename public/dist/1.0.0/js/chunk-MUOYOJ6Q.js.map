{
  "version": 3,
  "sources": ["../../../../src/client/views/layouts/base-layout.ts", "../../../../src/helpers.ts"],
  "sourcesContent": ["import { View } from \"../view\";\r\n\r\nimport { mount, unmount } from '../../helpers';\r\n\r\nexport class BaseLayout {\r\n  protected content: View | null = null;\r\n\r\n  async replaceContent(content: View) {\r\n    if(this.content?.replaceSelf) {\r\n      this.content.replaceSelf(content);\r\n    } else {\r\n      await this.content?.unmount?.();\r\n      await unmount(this.content?.elem || null);\r\n\r\n      this.content?.elem?.replaceWith(content.elem || '');\r\n      \r\n      await content.mount?.();\r\n      await mount(content.elem);\r\n    }\r\n\r\n    this.content = content;\r\n  }\r\n}\r\n", "import { trimSlashes } from '@azizka/router';\r\n\r\nimport { LANGUAGES } from './globals';\r\n\r\nexport function getQueryParameters(\r\n  query: {[key: string]: string}\r\n) {\r\n  const parameters: string[] = [];\r\n\r\n  for(let key of Object.keys(query)) {\r\n    if(query[key]) {\r\n      parameters.push(`${key}=${query[key]}`);\r\n    } else {\r\n      parameters.push(key);\r\n    }\r\n  }\r\n\r\n  return parameters.join('&');  \r\n}\r\n\r\nexport function setQueryParameter(\r\n  query: {[key: string]: string}, \r\n  parameter: string, \r\n  value: string\r\n) {\r\n  const data = {...query};\r\n\r\n  data[parameter] = value;\r\n\r\n  return getQueryParameters(data);\r\n}\r\n\r\nexport function toggleQueryParameter(\r\n  query: {[key: string]: string}, \r\n  parameter: string\r\n) {\r\n  const data = {...query};\r\n\r\n  if(parameter in data) {\r\n    delete data[parameter];\r\n\r\n    return getQueryParameters(data);\r\n  }\r\n\r\n  return setQueryParameter(data, parameter, '1');\r\n}\r\n\r\nexport function capitalize(input: string) {\r\n  if(!input) {\r\n    return input;\r\n  }\r\n\r\n  const chars = input.split('');\r\n\r\n  return chars[0].toUpperCase() + chars.slice(1).join('').toLowerCase();\r\n}\r\n\r\nexport function toCamel(input: string) {\r\n  const parts = input.split('-');\r\n\r\n  return parts.map(item => capitalize(item)).join('');\r\n}\r\n\r\nexport const localeRoute = `(${Object.keys(LANGUAGES).join('|')})?`;\r\n\r\nexport function changeLangPath(url: string, lang: string) {\r\n  url = trimSlashes(url);\r\n\r\n  const langRoute = new RegExp(`^(${Object.keys(LANGUAGES).join('|')})`);\r\n\r\n  const index = url.search(langRoute);\r\n\r\n  if(index >= 0) {\r\n    return url.replace(langRoute, lang)\r\n  }\r\n\r\n  return `${lang}/${url}`;\r\n}\r\n\r\nexport function groupParamsByKey(params: URLSearchParams) {\r\n  return [...params.entries()].reduce((acc, tuple) => {\r\n    const [key, val] = tuple;\r\n\r\n    if(acc.hasOwnProperty(key)) {\r\n      if(Array.isArray(acc[key])) {\r\n        (acc[key] as string[]).push(val);\r\n      } else {\r\n        acc[key] = [acc[key] as string, val];\r\n      }\r\n    } else {\r\n      acc[key] = val;\r\n    }\r\n\r\n    return acc;\r\n  }, {} as { \r\n    [key: string]: string | string[] \r\n  });\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;AAIO,uBAAiB;AAAA,EACZ,UAAuB;AAAA,QAE3B,eAAe,SAAe;AAClC,QAAG,KAAK,SAAS,aAAa;AAC5B,WAAK,QAAQ,YAAY,OAAO;AAAA,IAClC,OAAO;AACL,YAAM,KAAK,SAAS,UAAU;AAC9B,YAAM,QAAQ,KAAK,SAAS,QAAQ,IAAI;AAExC,WAAK,SAAS,MAAM,YAAY,QAAQ,QAAQ,EAAE;AAElD,YAAM,QAAQ,QAAQ;AACtB,YAAM,MAAM,QAAQ,IAAI;AAAA,IAC1B;AAEA,SAAK,UAAU;AAAA,EACjB;AACF;;;ACtBA,oBAA4B;AAIrB,4BACL,OACA;AACA,QAAM,aAAuB,CAAC;AAE9B,WAAQ,OAAO,OAAO,KAAK,KAAK,GAAG;AACjC,QAAG,MAAM,MAAM;AACb,iBAAW,KAAK,GAAG,OAAO,MAAM,MAAM;AAAA,IACxC,OAAO;AACL,iBAAW,KAAK,GAAG;AAAA,IACrB;AAAA,EACF;AAEA,SAAO,WAAW,KAAK,GAAG;AAC5B;AAEO,2BACL,OACA,WACA,OACA;AACA,QAAM,OAAO,KAAI,MAAK;AAEtB,OAAK,aAAa;AAElB,SAAO,mBAAmB,IAAI;AAChC;AAEO,8BACL,OACA,WACA;AACA,QAAM,OAAO,KAAI,MAAK;AAEtB,MAAG,aAAa,MAAM;AACpB,WAAO,KAAK;AAEZ,WAAO,mBAAmB,IAAI;AAAA,EAChC;AAEA,SAAO,kBAAkB,MAAM,WAAW,GAAG;AAC/C;AAEO,oBAAoB,OAAe;AACxC,MAAG,CAAC,OAAO;AACT,WAAO;AAAA,EACT;AAEA,QAAM,QAAQ,MAAM,MAAM,EAAE;AAE5B,SAAO,MAAM,GAAG,YAAY,IAAI,MAAM,MAAM,CAAC,EAAE,KAAK,EAAE,EAAE,YAAY;AACtE;AAEO,iBAAiB,OAAe;AACrC,QAAM,QAAQ,MAAM,MAAM,GAAG;AAE7B,SAAO,MAAM,IAAI,UAAQ,WAAW,IAAI,CAAC,EAAE,KAAK,EAAE;AACpD;AAEO,IAAM,cAAc,IAAI,OAAO,KAAK,SAAS,EAAE,KAAK,GAAG;AAEvD,wBAAwB,KAAa,MAAc;AACxD,QAAM,+BAAY,GAAG;AAErB,QAAM,YAAY,IAAI,OAAO,KAAK,OAAO,KAAK,SAAS,EAAE,KAAK,GAAG,IAAI;AAErE,QAAM,QAAQ,IAAI,OAAO,SAAS;AAElC,MAAG,SAAS,GAAG;AACb,WAAO,IAAI,QAAQ,WAAW,IAAI;AAAA,EACpC;AAEA,SAAO,GAAG,QAAQ;AACpB;",
  "names": []
}
